webpackJsonp([0],[,,function(t,e,n){"use strict";var o=n(1);e.a=new o.default},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var o="/",i="/memory"},function(t,e,n){"use strict";var o=n(1),i=n(34),a=n(3),r=n(26),c=n.n(r),s=n(28),u=n.n(s);o.default.use(i.a),e.a=new i.a({routes:[{path:a.a,component:c.a},{path:a.b,component:u.a}]})},function(t,e){},function(t,e){},,,function(t,e,n){function o(t){n(22)}var i=n(0)(n(11),n(31),o,null,null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),i=n.n(o);e.default={name:"app",data:function(){return{}},components:{Bottom:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3);e.default={data:function(){return{locationNav:o.a,memoryNav:o.b,bottomNav:"",bottomNavColor:""}},mounted:function(){this.handleChange(o.a)},methods:{handleChange:function(t){this.bottomNav!=t&&(this.bottomNav=t,this.bottomNavColor=t,this.$router.push({path:t}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),i=n.n(o),a=n(17),r=n(2);e.default={data:function(){return{locationRecSwitch:!1,rightTop:{horizontal:"right",vertical:"top"},popup:!1,locationPicList:[]}},mounted:function(){a.a.addLocationLinstener()},methods:{startRecLocation:function(){this.locationRecSwitch=!0,r.a.$emit("switch_location_point_rec",!0)},stopRecLocation:function(){this.locationRecSwitch=!1,r.a.$emit("switch_location_point_rec",!1)},openPopup:function(){this.popup=!0},sendLocateNote:function(){a.a.pointListGet();this.closePopup()},closePopup:function(){this.locationPicList=[],this.popup=!1},setOptions:function(t){return{quality:100,destinationType:Camera.DestinationType.FILE_URI,sourceType:t,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.ALLMEDIA,allowEdit:!1,correctOrientation:!0}},openCamera:function(t){var e=Camera.PictureSourceType.CAMERA,n=this.setOptions(e),o=this;navigator.camera.getPicture(function(t){o.$data.locationPicList.push({image:"data:image/jpeg;base64,"+t,uri:"data:image/jpeg;base64,"+t})},function(t){console.debug("Unable to obtain picture: "+t,"app")},n)}},components:{BaiduMap:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n.n(o),a=n(2);e.default={data:function(){return{center:{lng:0,lat:0},zoom:19,centerLocateSwitch:1,centerLocateTimeoutId:0}},mounted:function(){setInterval(this.location,1e4);var t=this;document.addEventListener("deviceready",function(){cordova.plugins.backgroundMode.setDefaults({text:"星柚游记正在后台努力运行中～"}),cordova.plugins.backgroundMode.enable(),cordova.plugins.backgroundMode.onactivate=function(){},t.location()},!1)},methods:{syncCenterAndZoom:function(t){1==this.$data.centerLocateSwitch&&(this.$data.centerLocateSwitch=0,this.resetCenterLocate())},resetCenterLocate:function(){var t=this;0==this.$data.centerLocateSwitch&&(0!=this.$data.centerLocateTimeoutId&&clearTimeout(this.$data.centerLocateTimeoutId),this.$data.centerLocateTimeoutId=setTimeout(function(){t.$data.centerLocateSwitch=1},1e4))},setCenterLocate:function(t,e){(1==this.$data.centerLocateSwitch||0==this.$data.center.lat&&0==this.$data.center.lng)&&(this.$data.center.lat=t,this.$data.center.lng=e)},location:function(){var t=this;AdvancedGeolocation.start(function(e){try{var n=JSON.parse(e);switch(a.a.$emit("current_location",n),n.provider){case"gps":var o=new BMap.Point(n.longitude,n.latitude),i=new BMap.Convertor,r=[];r.push(o),i.translate(r,1,5,function(e){0===e.status&&(t.setCenterLocate(e.points[0].lat,e.points[0].lng),n.latitude=e.points[0].lat,n.longitude=e.points[0].lng),a.a.$emit("current_gps_location",n)});break;case"network":var o=new BMap.Point(n.longitude,n.latitude),i=new BMap.Convertor,r=[];r.push(o),i.translate(r,1,5,function(e){0===e.status&&(t.setCenterLocate(e.points[0].lat,e.points[0].lng),n.latitude=e.points[0].lat,n.longitude=e.points[0].lng),a.a.$emit("current_network_location",n)})}return n}catch(t){console.log("Invalid JSON: "+t)}},function(t){console.log("Error JSON: "+i()(t));var e=JSON.parse(t);console.log("Error no.: "+e.error+", Message: "+e.msg+", Provider: "+e.provider)},{minTime:0,minDistance:0,noWarn:!1,providers:"all",useCache:!0,satelliteData:!0,buffer:!0,bufferSize:10,signalStrength:!1})}}}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(10),a=n(8),r=n.n(a),c=n(7),s=n.n(c),u=n(5),l=(n.n(u),n(6)),m=(n.n(l),n(9)),p=n.n(m),d=n(4);o.default.config.productionTip=!1,o.default.use(s.a),o.default.use(i.a),o.default.use(r.a,{ak:"AaXe3HZ8ouvnNXwQKTeaVWGB7zao07C6"}),new o.default({el:"#app",router:d.a,template:"<App/>",components:{App:p.a}}),o.default.http.interceptors.push(function(t,e){t.credentials=!0,e()})},function(t,e,n){"use strict";var o=n(2);e.a={currentLocation:{},locationPointList:[],locationPointRecSwitch:!1,addLocationLinstener:function(){var t=this;o.a.$on("switch_location_point_rec",function(e){console.log(e),t.locationPointRecSwitch=e}),o.a.$on("current_gps_location",function(e){t.currentLocation=e,console.log(e),console.log(t.locationPointRecSwitch),t.locationPointRecSwitch&&t.pointListPush(e)})},getCurrentLocation:function(){return this.currentLocation},pointListInit:function(){this.locationPointList=[]},pointListPush:function(t){if(this.locationPointList.length){var e=this.pointListGet(),n=e[e.length-1].latitude,o=e[e.length-1].longitude;0!=t.latitude&&0!=t.longitude&&Math.abs(t.latitude-n)>1e-5&&Math.abs(t.longitude-o)>1e-5&&this.locationPointList.push(t)}else this.locationPointList.push(t)},pointListGet:function(){return this.locationPointList},pointListSend:function(){var t=this;o.a.$http.post("baidu.com",this.locationPointList,{emulateJSON:!0}).then(function(e){var n=e.body;0!=n.error_no&&(alert(n.error_msg),t.reg_phone_captcha_send=!1)}).catch(function(t){console.log(t)})}}},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var o=n(0)(n(12),n(30),null,null,null);t.exports=o.exports},function(t,e,n){function o(t){n(24)}var i=n(0)(n(13),n(33),o,null,null);t.exports=i.exports},function(t,e,n){function o(t){n(21)}var i=n(0)(n(14),n(29),o,null,null);t.exports=i.exports},function(t,e,n){function o(t){n(23)}var i=n(0)(n(15),n(32),o,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("baidu-map",{attrs:{id:"map","scroll-wheel-zoom":!0,center:t.center,zoom:t.zoom},on:{moving:t.syncCenterAndZoom,moveend:t.syncCenterAndZoom,zoomend:t.syncCenterAndZoom}},[n("bm-marker",{attrs:{position:t.center,dragging:!0}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-paper",[n("mu-bottom-nav",{attrs:{value:t.bottomNav,shift:""},on:{change:t.handleChange}},[n("mu-bottom-nav-item",{attrs:{value:t.locationNav,title:"路书",icon:"location_on"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:t.memoryNav,title:"记录",icon:"restore"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:"me",title:"我",icon:"favorite"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1),t._v(" "),n("bottom",{attrs:{id:"bottom"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-list",[n("mu-sub-header",[t._v("今天")]),t._v(" "),n("mu-list-item",{attrs:{title:"这个周末一起吃饭么?"}},[n("mu-avatar",{attrs:{src:"/images/avatar1.jpg"},slot:"leftAvatar"}),t._v(" "),n("span",{slot:"describe"},[n("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v("Myron Liu -")]),t._v(" 周末要来你这里出差，要不要一起吃个饭呀，实在编不下去了,哈哈哈哈哈哈\n          ")]),t._v(" "),n("mu-icon-menu",{attrs:{icon:"more_vert",tooltip:"操作"},slot:"right"},[n("mu-menu-item",{attrs:{title:"回复"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"标记"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"删除"}})],1)],1),t._v(" "),n("mu-divider",{attrs:{inset:""}}),t._v(" "),n("mu-list-item",{attrs:{title:"Alex Qin"}},[n("mu-avatar",{attrs:{src:"/images/avatar2.jpg"},slot:"leftAvatar"}),t._v(" "),n("span",{slot:"describe"},[n("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v("看电影啊")]),t._v(" "),n("br"),t._v("\n              我们去看电影，最近有部烂片上映，又有吐槽的了\n          ")]),t._v(" "),n("mu-icon-menu",{attrs:{icon:"more_vert",tooltip:"操作"},slot:"right"},[n("mu-menu-item",{attrs:{title:"回复"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"标记"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"删除"}})],1)],1),t._v(" "),n("mu-divider",{attrs:{inset:""}}),t._v(" "),n("mu-list-item",{attrs:{title:"LOL"}},[n("mu-avatar",{attrs:{src:"/images/avatar3.jpg"},slot:"leftAvatar"}),t._v(" "),n("span",{slot:"describe"},[n("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v("去打游戏啊")]),n("br"),t._v("\n  周末一起 LOL\n")]),t._v(" "),n("mu-icon-menu",{attrs:{icon:"more_vert",tooltip:"操作"},slot:"right"},[n("mu-menu-item",{attrs:{title:"回复"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"标记"}}),t._v(" "),n("mu-menu-item",{attrs:{title:"删除"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"map"}},[n("BaiduMap"),t._v(" "),n("mu-float-button",{attrs:{icon:"add",mini:"",id:"location-float-button"}}),t._v(" "),n("mu-icon-menu",{attrs:{id:"location-menu",anchorOrigin:t.rightTop,targetOrigin:t.rightTop}},[t.locationRecSwitch?t._e():n("mu-menu-item",{attrs:{title:"开始记录"},on:{click:t.startRecLocation}}),t._v(" "),t.locationRecSwitch?n("mu-menu-item",{attrs:{title:"添加路书"},on:{click:t.openPopup}}):t._e(),t._v(" "),t.locationRecSwitch?n("mu-menu-item",{attrs:{title:"停止记录"},on:{click:t.stopRecLocation}}):t._e()],1),t._v(" "),t.locationRecSwitch?n("mu-popup",{attrs:{position:"bottom",popupClass:"popup-record-location",open:t.popup},on:{close:function(e){t.closePopup()}}},[n("mu-appbar",{attrs:{title:"添加路书"}},[n("mu-flat-button",{attrs:{label:"关闭",color:"white"},on:{click:function(e){t.closePopup()}},slot:"right"})],1),t._v(" "),n("mu-content-block",[n("mu-row",{attrs:{gutter:""}},[n("mu-text-field",{attrs:{hintText:"天気がいいから、散歩しましょう",multiLine:"",rows:3,rowsMax:6,fullWidth:""}})],1),t._v(" "),n("mu-row",{attrs:{gutter:""}},[n("mu-icon-button",{attrs:{id:"camera-icon",icon:"photo_camera"},on:{click:function(e){t.openCamera("")}}})],1),t._v(" "),n("div",{staticClass:"gridlist-location-pic"},[n("mu-grid-list",{staticClass:"gridlist-location-pic-list"},t._l(t.locationPicList,function(t,e){return n("mu-grid-tile",{key:e},[n("img",{attrs:{src:t.image,index:e,uri:t.uri}})])}))],1),t._v(" "),n("br"),t._v(" "),n("mu-row",{attrs:{gutter:""}},[n("mu-raised-button",{attrs:{label:"发送ヽ(✿ﾟ▽ﾟ)ノ",primary:"",fullWidth:""},on:{click:t.sendLocateNote}})],1)],1)],1):t._e()],1)},staticRenderFns:[]}},,,,function(t,e){}],[16]);
//# sourceMappingURL=app.1ee1a3db115026e89af1.js.map